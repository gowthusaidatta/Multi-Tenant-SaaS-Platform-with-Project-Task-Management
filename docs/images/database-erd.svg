<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="900" viewBox="0 0 1200 900">
  <defs>
    <style>
      .table { fill: #fffde7; stroke: #f57f17; stroke-width: 2; }
      .header { fill: #fff9c4; stroke: #f57f17; stroke-width: 2; }
      .title { font-size: 24px; font-weight: bold; fill: #212121; }
      .subtitle { font-size: 14px; fill: #424242; }
      .table-name { font-size: 14px; font-weight: bold; fill: #212121; }
      .field { font-size: 11px; fill: #424242; font-family: monospace; }
      .pk { font-size: 11px; fill: #c62828; font-family: monospace; font-weight: bold; }
      .fk { font-size: 11px; fill: #1565c0; font-family: monospace; }
      .relation { stroke: #616161; stroke-width: 2; fill: none; }
      .note { fill: #e8f5e9; stroke: #2e7d32; stroke-width: 1; }
      .note-text { font-size: 10px; fill: #1b5e20; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title">Multi-Tenant SaaS Platform</text>
  <text x="600" y="55" text-anchor="middle" class="subtitle">Database Entity Relationship Diagram (ERD)</text>
  
  <!-- Tenants Table -->
  <rect x="450" y="100" width="300" height="200" class="table" rx="5"/>
  <rect x="450" y="100" width="300" height="35" class="header" rx="5"/>
  <text x="600" y="123" text-anchor="middle" class="table-name">TENANTS</text>
  <text x="460" y="155" class="pk">+ id: UUID (PK)</text>
  <text x="460" y="175" class="field">  name: VARCHAR(255)</text>
  <text x="460" y="190" class="field">  subdomain: VARCHAR(100) UNIQUE</text>
  <text x="460" y="205" class="field">  status: ENUM(active, suspended)</text>
  <text x="460" y="220" class="field">  settings: JSONB</text>
  <text x="460" y="235" class="field">  created_at: TIMESTAMP</text>
  <text x="460" y="250" class="field">  updated_at: TIMESTAMP</text>
  
  <!-- Users Table -->
  <rect x="50" y="380" width="300" height="260" class="table" rx="5"/>
  <rect x="50" y="380" width="300" height="35" class="header" rx="5"/>
  <text x="200" y="403" text-anchor="middle" class="table-name">USERS</text>
  <text x="60" y="435" class="pk">+ id: UUID (PK)</text>
  <text x="60" y="455" class="fk"># tenant_id: UUID (FK)</text>
  <text x="60" y="475" class="field">  email: VARCHAR(255) UNIQUE</text>
  <text x="60" y="490" class="field">  password_hash: VARCHAR(255)</text>
  <text x="60" y="505" class="field">  first_name: VARCHAR(100)</text>
  <text x="60" y="520" class="field">  last_name: VARCHAR(100)</text>
  <text x="60" y="535" class="field">  role: ENUM(super_admin,</text>
  <text x="60" y="550" class="field">        tenant_admin, member)</text>
  <text x="60" y="565" class="field">  status: ENUM(active, inactive)</text>
  <text x="60" y="580" class="field">  created_at: TIMESTAMP</text>
  <text x="60" y="595" class="field">  updated_at: TIMESTAMP</text>
  
  <!-- Projects Table -->
  <rect x="450" y="380" width="300" height="250" class="table" rx="5"/>
  <rect x="450" y="380" width="300" height="35" class="header" rx="5"/>
  <text x="600" y="403" text-anchor="middle" class="table-name">PROJECTS</text>
  <text x="460" y="435" class="pk">+ id: UUID (PK)</text>
  <text x="460" y="455" class="fk"># tenant_id: UUID (FK)</text>
  <text x="460" y="475" class="field">  name: VARCHAR(255)</text>
  <text x="460" y="490" class="field">  description: TEXT</text>
  <text x="460" y="505" class="field">  status: ENUM(planning, active,</text>
  <text x="460" y="520" class="field">          completed, on_hold)</text>
  <text x="460" y="535" class="field">  start_date: DATE</text>
  <text x="460" y="550" class="field">  end_date: DATE</text>
  <text x="460" y="565" class="fk">  created_by: UUID (FK → users)</text>
  <text x="460" y="580" class="field">  created_at: TIMESTAMP</text>
  <text x="460" y="595" class="field">  updated_at: TIMESTAMP</text>
  
  <!-- Tasks Table -->
  <rect x="850" y="380" width="300" height="290" class="table" rx="5"/>
  <rect x="850" y="380" width="300" height="35" class="header" rx="5"/>
  <text x="1000" y="403" text-anchor="middle" class="table-name">TASKS</text>
  <text x="860" y="435" class="pk">+ id: UUID (PK)</text>
  <text x="860" y="455" class="fk"># tenant_id: UUID (FK)</text>
  <text x="860" y="475" class="fk"># project_id: UUID (FK)</text>
  <text x="860" y="495" class="field">  title: VARCHAR(255)</text>
  <text x="860" y="510" class="field">  description: TEXT</text>
  <text x="860" y="525" class="field">  status: ENUM(todo, in_progress,</text>
  <text x="860" y="540" class="field">          done)</text>
  <text x="860" y="555" class="field">  priority: ENUM(low, medium,</text>
  <text x="860" y="570" class="field">            high, urgent)</text>
  <text x="860" y="585" class="fk">  assigned_to: UUID (FK → users)</text>
  <text x="860" y="600" class="fk">  created_by: UUID (FK → users)</text>
  <text x="860" y="615" class="field">  due_date: DATE</text>
  <text x="860" y="630" class="field">  created_at: TIMESTAMP</text>
  <text x="860" y="645" class="field">  updated_at: TIMESTAMP</text>
  
  <!-- Audit Logs Table -->
  <rect x="50" y="720" width="300" height="150" class="table" rx="5"/>
  <rect x="50" y="720" width="300" height="35" class="header" rx="5"/>
  <text x="200" y="743" text-anchor="middle" class="table-name">AUDIT_LOGS</text>
  <text x="60" y="775" class="pk">+ id: UUID (PK)</text>
  <text x="60" y="795" class="fk"># tenant_id: UUID (FK)</text>
  <text x="60" y="810" class="fk">  user_id: UUID (FK)</text>
  <text x="60" y="825" class="field">  action: VARCHAR(100)</text>
  <text x="60" y="840" class="field">  entity_type: VARCHAR(50)</text>
  <text x="60" y="855" class="field">  ... (tracking data)</text>
  
  <!-- Relationships -->
  <!-- Tenants to Users -->
  <path d="M 500 300 L 200 380" class="relation"/>
  <text x="330" y="335" class="note-text" font-weight="bold">1:N</text>
  
  <!-- Tenants to Projects -->
  <path d="M 600 300 L 600 380" class="relation"/>
  <text x="610" y="340" class="note-text" font-weight="bold">1:N</text>
  
  <!-- Tenants to Tasks -->
  <path d="M 700 300 L 950 380" class="relation"/>
  <text x="810" y="335" class="note-text" font-weight="bold">1:N</text>
  
  <!-- Tenants to Audit Logs -->
  <path d="M 500 300 L 200 720" class="relation"/>
  <text x="330" y="500" class="note-text" font-weight="bold">1:N</text>
  
  <!-- Users to Projects -->
  <path d="M 350 510 L 450 510" class="relation"/>
  <text x="380" y="505" class="note-text" font-size="9">creates</text>
  
  <!-- Users to Tasks -->
  <path d="M 350 510 L 850 550" class="relation"/>
  <text x="580" y="525" class="note-text" font-size="9">creates/assigned</text>
  
  <!-- Projects to Tasks -->
  <path d="M 750 510 L 850 510" class="relation"/>
  <text x="780" y="505" class="note-text" font-weight="bold">1:N</text>
  
  <!-- Notes -->
  <rect x="450" y="720" width="350" height="90" class="note" rx="5"/>
  <text x="460" y="740" class="note-text" font-weight="bold">Multi-Tenant Data Isolation:</text>
  <text x="460" y="758" class="note-text">• All tables contain tenant_id foreign key</text>
  <text x="460" y="773" class="note-text">• Row-level security enforces data separation</text>
  <text x="460" y="788" class="note-text">• Subdomain routing identifies tenant context</text>
  
  <rect x="850" y="720" width="300" height="90" class="note" rx="5"/>
  <text x="860" y="740" class="note-text" font-weight="bold">Key Relationships:</text>
  <text x="860" y="758" class="note-text">• Users belong to tenants</text>
  <text x="860" y="773" class="note-text">• Projects created by users</text>
  <text x="860" y="788" class="note-text">• Tasks assigned to users in projects</text>
  
  <!-- Legend -->
  <text x="50" y="90" class="pk">PK = Primary Key</text>
  <text x="200" y="90" class="fk">FK = Foreign Key</text>
  <text x="350" y="90" class="field">Regular Field</text>
</svg>
